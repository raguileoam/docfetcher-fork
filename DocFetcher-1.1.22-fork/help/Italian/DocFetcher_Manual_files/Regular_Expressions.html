<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>Guida di DocFetcher - Espressioni regolari (RegEx)</title>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">
		<meta content="Topoldo" name="author">
		<link rel="stylesheet" href="style.css" type="text/css">
	</head>
	<body>
		<div class="header">
			<a href="../DocFetcher_Manual.html#Advanced_Usage">Ritorno alla pagina principale</a>
		</div>
		<div id="main">
			<h1>Espressioni regolari (Regular Expressions, RegEx)</h1><p>Questa sezione serve a fornire una breve introduzione alle espressioni regolari. Non è di certo esaustiva, poiché le espressioni regolari rappresentano una tipologia ben definita e a se stante del linguaggio delle corrispondenze. Qualora si voglia approfondire l'argomento, è comunque possibile trovare tonnellate di informazioni in internet; è sufficiente cercare "tutorial espressioni regolari" o "introduzione alle espressioni regolari" o qualcosa di simile.</p><h2>Corrispondenza con tutti i file <code>.*\.xlsx?</code> di Microsoft Excel</h2><p>Nelle espressioni regolari (spesso abbreviate in <em>RegEx</em>), certi caratteri hanno un significato speciale. Per esempio il <strong><em>punto</em></strong> (<code>&#39;.&#39;</code>) sta esattamente al posto di <em>un solo carattere</em>, qualunque esso sia. Pertanto è possibile, per esempio, usare la regex <code>p.zzo</code> per trovare corrispondenza con <code>pazzo</code> o con <code>pezzo</code>, ma anche con <code>pizzo</code> o <code>p8zzo</code>.</p><p>Un altro carattere speciale è l'<strong><em>asterisco</em></strong> (<code>&#39;*&#39;</code>) che sta per "il carattere precedente, ripetuto zero o più volte". Pertanto se si scrive la regex <code>ciao*</code>, vi corrispondono le seguenti stringhe: <code>cia</code>, <code>ciao</code>, <code>ciaoo</code>, <code>ciaooo</code> e così via.</p><p>Come conseguenza di queste regole, se il punto e l'asterisco vengono messi assieme, essi corrispondono ad una sequenza di caratteri arbitraria. Per esempio la regex <code>gen.*ione</code> corrisponde a: <code>genione</code>, <code>generalizzazione</code>, <code>generazione</code>, <code>gentrificazione</code> e così via.</p><p>Un carattere speciale, simile all'asterisco è il <strong><em>punto di domanda</em></strong> (<code>&#39;?&#39;</code>), che significa "il carattere precedente preso esattamente zero o una volta". È anche possibile riformulare tale affermazione in questi termini: "il carattere precedente può esserci o non esserci". Come l'asterisco, il punto di domanda può essere combinato con un punto. Pertanto la regex <code>pizz.?</code> può corrispondere a: <code>pizz</code>, <code>pizza</code>, <code>pizze</code>, <code>pizz4</code>, ecc...</p><p>Poiché caratteri come il punto e l'asterisco hanno un significato speciale, se si vuole una corrispondenza <em>letterale</em> con questi caratteri è necessario eseguire quello che tecnicamente viene definito come fornire loro un <em>escape</em>. Dal punto di vista pratico bisogna cioè far precedere questi caratteri speciali da un altro carattere speciale, la <strong><em>barra rovesciata</em></strong> o <strong><em>backslash</em></strong> (<code>&#39;\&#39;</code>). Un caso tipico in cui è necessario usare il backslash è qualora si voglia una corrispondenza esatta con il punto presente all'interno di un nome di file. Per esempio per cercare tutti i file che corrispondono al nome del file <code>license.txt</code>, bisogna usare la regex <code>license\.txt</code> e non la semplice stringa <code>license.txt</code> &mdash; quest'ultima infatti avrebbe come corrispondenza anche nomi di file quali, per esempio, <code>license-txt</code>.</p><p>Mettendo tutto assieme, è pertanto possibile scrivere una regex cui corrispondono tutti i tipi di file Microsoft Excel e cioé: <code>.*\.xlsx?</code>; questa regex sostanzialmente corrisponde a: "una sequenza arbitraria di caratteri (<code>.*</code>) seguita da un punto vero (<code>\.</code>), seguita dalla stringa <em>xls</em> e avente una (<code>x?</code>) finale opzionale.</p><h2>Ricerca di corrispondenza con una sequenza di cifre: <code>journal\d+\.doc</code></h2><p>Si supponga ora di voler cercare una corrispondenza con tutti i file Microsoft Word che iniziano con la stringa "journal" e che finiscono con una data, per esempio: "journal2007.doc". Inoltre, <em>non</em> si vogliano trovare corrispondenze con file aventi nome simile quali, per esempio, "journalism.doc".</p><p>Una regex come <code>journal.*\.doc</code> in questo caso non funziona perché vi corrisponderebbe anche "journalism.doc". Il primo passaggio per risolvere il problema è quello di rimpiazzare il punto o con '[0-9]' o con <code>\d</code>, il cui significato, in entambi i casi, è di creare una corrispondenza esatta con <strong><em>una cifra</em></strong>. L'espressione <code>[0-9]</code> è una notazione più generale rispetto a <code>\d</code></code>, perché è possibile scrivere, per esempio, <code>[4-6]</code> intendendo farvi corrispondere solo le cifre <code>4</code>, <code>5</code> e <code>6</code>. Nota Bene: Questa tipologia (l'inclusione fra parentesi quadre) funziona anche per le lettere. Per esempio: <code>[m-p]</code> corrisponde a tutte le lettere minuscole comprese fra la "m" e la "p" (estremi inclusi).</p><p>Combinando <code>\d</code> con un asterisco, è possibile scrivere l'espressione regolare <code>journal\d*\.doc</code>, cui corrisponde per esempio il nome del file "journal2007.doc", ma non "journalism.doc". Ma ciò non è completamente corretto. Si ricordi infatti che l'asterisco significa <em>il carattere precedente ripetuto zero o più volte</em>. In questo caso però non si vuole che vi siano <em>zero</em> cifre dopo "journal"; se ne vuole <em>almeno una</em> &mdash; altrimenti la regex avrebbe come corrispondenza anche il file "journal.doc".</p><p>Ecco allora intervenire un altro carattere speciale: il <strong><em>più</em></strong> il cui simbolo (<code>&#39;+&#39;</code>) sta per <em>il carattere precedente, ripetuto una o più volte</em>. Pertanto la versione finale della nostra espressione regolare sarà: <code>journal\d+\.doc</code></p>
		</div>
		<div class="footer">
			<a href="../DocFetcher_Manual.html#Advanced_Usage">Ritorno alla pagina principale</a>
		</div>
	</body>
</html>
